<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

<f:layout name="Default" />

<f:section name="main">
    <f:flashMessages />

    <f:form action="subscribe"
            name="subscription"
            object="{subscription}"
            controller="Ajax"
            pageType="{settings.ajaxPageType}"
            data="{form: 'pxa-newsletter-subscription-form', require-accept-terms: '{f:if(condition: settings.acceptTermsLink, then: 1, else: 0)}'}">
        <f:variable name="colClass" value="{f:if(condition: settings.nameIsMandatory, then: 'col-sm-6', else: 'col-sm-12')}" />

        <div class="alert alert-danger hidden"></div>

        <div class="row">
            <div class="form-group">
                <f:if condition="{settings.nameIsMandatory}">
                    <div class="{colClass}">
                        <f:form.textfield placeholder="{f:translate(key: 'name')}"
                                          required="1"
                                          class="form-control"
                                          property="name" />
                    </div>
                </f:if>

                <div class="{colClass}">
                    <f:form.textfield placeholder="{f:translate(key: 'email')}"
                                      required="1"
                                      class="form-control"
                                      property="email" />
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="pull-right">
                    <f:if condition="{settings.acceptTermsLink}">
                        <div class="checkbox">
                            <label>
                                <f:form.checkbox value="1" property="acceptTerms" /> <f:translate key="accept_terms" />.
                                <f:link.typolink parameter="{settings.acceptTermsLink}" />
                            </label>
                        </div>
                    </f:if>

                    <f:form.submit name="subscribe" value="{f:translate(key: 'subscribe')}" class="btn btn-default pull-right" />
                </div>
            </div>
        </div>

        <f:form.hidden name="ceUid" value="{ceUid}" />
    </f:form>
</f:section>
</html>